var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,c,q){if(q.get||q.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[c]=q.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var c=0;return $jscomp.iteratorPrototype(function(){return c<f.length?{done:!1,value:f[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.makeIterator=function(f){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=f[Symbol.iterator];return c?c.call(f):$jscomp.arrayIterator(f)};
(function(){function f(a){var b=[],k=K[I],e=t(1,2),d=t(0,9),l=t(0,9),g=0;if(1==e)if(l>=a-1){for(e=0;e<a;e++)0==c[d][l-e]&&g++;if(g==a)for(g=0;g<a;g++)c[d][l-g]=1,document.getElementById("s"+d+(l-g)).classList.add(k),b.push([d,l-g]);else f(a)}else{for(e=0;e<a;e++)0==c[d][l+e]&&g++;if(g==a)for(g=0;g<a;g++)c[d][l+g]=1,document.getElementById("s"+d+(l+g)).classList.add(k),b.push([d,l+g]);else f(a)}else if(d>=a-1){for(e=0;e<a;e++)0==c[d-e][l]&&g++;if(g==a)for(g=0;g<a;g++)c[d-g][l]=1,document.getElementById("s"+
(d-g)+l).classList.add(k),b.push([d-g,l]);else f(a)}else{for(e=0;e<a;e++)0==c[d+e][l]&&g++;if(g==a)for(g=0;g<a;g++)c[d+g][l]=1,document.getElementById("s"+(d+g)+l).classList.add(k),b.push([d+g,l]);else f(a)}0!=b.length&&(L.push(b),I++)}var c=[],q=document.getElementById("gameboard"),L=[],u=[];document.getElementById("strtOvrBtn").addEventListener("click",function(){location.reload()});for(var t=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},I=0,K=["Carrier","Battleship","Cruiser","Submarine",
"Destroyer"],r=0;10>r;r++){c.push([]);for(var y=0;10>y;y++){c[r].push(0);var z=document.createElement("div"),A=document.createElement("p");q.appendChild(z);z.appendChild(A);z.id="s"+y+r;A.id="p"+y+r;A.classList.add("numText");A=50*r;z.style.top=50*y+"px";z.style.left=A+"px"}}f(5);f(4);f(3);f(3);f(2);for(q=0;10>q;q++)for(u.push([]),r=0;10>r;r++)u[q].push(0),document.getElementById("s"+q+r).style.background="#80aaff",1==c[q][r]&&(document.getElementById("s"+q+r).style.background="white");var n=0,C=
!1,D=!1,E=!1,F=!1,G=!1,d=0,v,x,p="",w=!0,m=0,h=0,H=!1,M=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},B=function(a,b){for(var d=0;10>d;d++)for(var e=0;10>e;e++)document.getElementById("s"+d+e).classList.contains(b)&&document.getElementById("s"+d+e).classList.contains("hit")&&(document.getElementById("s"+d+e).style.background="darkred");n-=a;p="";w=!0;for(d=h=0;10>d;d++)for(e=0;10>e;e++)document.getElementById("s"+d+e).classList.contains(M(b))&&(c[d][e]=4);a:for(d=0;10>d;d++)for(e=0;10>
e;e++)if(2==c[d][e]){v=d;x=e;break a}},N=function(){var a=v,b=x;if("ver"==p){if(!(9<a+1)){if(0==c[a+1][b]){document.getElementById("s"+(a+1)+b).style.background="#4d88ff";document.getElementById("s"+(a+1)+b).classList.add("miss");c[a+1][b]=3;d++;document.getElementById("p"+(a+1)+b).innerText=d;return}if(1==c[a+1][b]){document.getElementById("s"+(a+1)+b).style.background="red";document.getElementById("s"+(a+1)+b).classList.add("hit");c[a+1][b]=2;d++;n++;v++;document.getElementById("p"+(a+1)+b).innerText=
d;return}}if(9<a+1||2==c[a+1][b]||3==c[a+1][b]||4==c[a+1][b]){w&&(h=n+h,w=!1);if(-1<a-h&&0==c[a-h][b]){document.getElementById("s"+(a-h)+b).style.background="#4d88ff";document.getElementById("s"+(a-h)+b).classList.add("miss");c[a-h][b]=3;d++;document.getElementById("p"+(a-h)+b).innerText=d;return}if(-1<a-h&&1==c[a-h][b]){document.getElementById("s"+(a-h)+b).style.background="red";document.getElementById("s"+(a-h)+b).classList.add("hit");c[a-h][b]=2;d++;n++;v--;document.getElementById("p"+(a-h)+b).innerText=
d;return}m=0;p="";w=!0;h--;h--}}if("hor"==p){if(!(9<b+1)){if(0==c[a][b+1]){document.getElementById("s"+a+(b+1)).style.background="#4d88ff";document.getElementById("s"+a+(b+1)).classList.add("miss");c[a][b+1]=3;d++;document.getElementById("p"+a+(b+1)).innerText=d;return}if(1==c[a][b+1]){document.getElementById("s"+a+(b+1)).style.background="red";document.getElementById("s"+a+(b+1)).classList.add("hit");c[a][b+1]=2;d++;n++;x++;document.getElementById("p"+a+(b+1)).innerText=d;return}}if(9<b+1||2==c[a][b+
1]||3==c[a][b+1]||4==c[a][b+1]){w&&(h=n+h,w=!1);if(0==c[a][b-h]){document.getElementById("s"+a+(b-h)).style.background="#4d88ff";document.getElementById("s"+a+(b-h)).classList.add("miss");c[a][b-h]=3;d++;document.getElementById("p"+a+(b-h)).innerText=d;return}for(var k=1;10>k&&!(0>b-k);k++)if(1==c[a][b-k]){document.getElementById("s"+a+(b-k)).style.background="red";document.getElementById("s"+a+(b-k)).classList.add("hit");c[a][b-k]=2;d++;n++;document.getElementById("p"+a+(b-k)).innerText=d;return}m=
0;p="";w=!0;h--;h--}}if(0==m&&""==p){if(!(9<a+1)){if(0==c[a+1][b]){document.getElementById("s"+(a+1)+b).style.background="#4d88ff";document.getElementById("s"+(a+1)+b).classList.add("miss");c[a+1][b]=3;d++;m++;document.getElementById("p"+(a+1)+b).innerText=d;return}if(1==c[a+1][b]){document.getElementById("s"+(a+1)+b).style.background="red";document.getElementById("s"+(a+1)+b).classList.add("hit");c[a+1][b]=2;d++;n++;p="ver";m=0;v++;document.getElementById("p"+(a+1)+b).innerText=d;return}}m++}if(1==
m&&""==p){if(!(0>a-1)){if(0==c[a-1][b]){document.getElementById("s"+(a-1)+b).style.background="#4d88ff";document.getElementById("s"+(a-1)+b).classList.add("miss");c[a-1][b]=3;d++;m++;document.getElementById("p"+(a-1)+b).innerText=d;return}if(1==c[a-1][b]){document.getElementById("s"+(a-1)+b).style.background="red";document.getElementById("s"+(a-1)+b).classList.add("hit");c[a-1][b]=2;d++;n++;p="ver";m=0;v--;h--;document.getElementById("p"+(a-1)+b).innerText=d;return}}m++}if(2==m&&""==p){if(!(9<b+1)){if(0==
c[a][b+1]){document.getElementById("s"+a+(b+1)).style.background="#4d88ff";document.getElementById("s"+a+(b+1)).classList.add("miss");c[a][b+1]=3;d++;m++;document.getElementById("p"+a+(b+1)).innerText=d;return}if(1==c[a][b+1]){document.getElementById("s"+a+(b+1)).style.background="red";document.getElementById("s"+a+(b+1)).classList.add("hit");c[a][b+1]=2;d++;n++;p="hor";m=0;x++;document.getElementById("p"+a+(b+1)).innerText=d;return}}m++}3==m&&""==p&&(0==c[a][b-1]?(document.getElementById("s"+a+(b-
1)).style.background="#4d88ff",document.getElementById("s"+a+(b-1)).classList.add("miss"),c[a][b-1]=3,d++,m++,document.getElementById("p"+a+(b-1)).innerText=d):1==c[a][b-1]&&(document.getElementById("s"+a+(b-1)).style.background="red",document.getElementById("s"+a+(b-1)).classList.add("hit"),c[a][b-1]=2,d++,n++,p="hor",m=0,x--,h--,document.getElementById("p"+a+(b-1)).innerText=d))},J=function(){var a,b;if(8>d){do 4>d?(a=t(2,7),b=t(2,7)):(a=t(1,8),b=t(1,8));while(0!=a%2&&0==b%2||0==a%2&&0!=b%2)}else{a=
[];var k=0;C||a.push(5);D||a.push(4);F||a.push(3);E||a.push(3);G||a.push(2);for(b=0;b<a.length;b++){for(var e=0;10>e;e++)for(var f=0;f<10-a[b]+1;f++){for(var l=0;l<a[b];l++)2!==c[e][f+l]&&3!==c[e][f+l]&&4!==c[e][f+l]&&k++;if(k===a[b])for(k=0;k<a[b];k++)u[e][f+k]++;k=0}for(e=0;10>e;e++)for(f=0;f<10-a[b]+1;f++){for(l=0;l<a[b];l++)2!==c[f+l][e]&&3!==c[f+l][e]&&4!==c[f+l][e]&&k++;if(k===a[b])for(k=0;k<a[b];k++)u[f+k][e]++;k=0}}a=0;b=[];for(k=0;10>k;k++)for(e=0;10>e;e++)u[k][e]===a?b.push([k,e]):u[k][e]>
a&&(a=u[k][e],b=[],b.push([k,e]));a=b[t(0,b.length-1)];b=$jscomp.makeIterator(a);a=b.next().value;b=b.next().value;for(k=0;10>k;k++)for(e=0;10>e;e++)u[k][e]=0}v=a;x=b;0==c[a][b]?(document.getElementById("s"+a+b).style.background="#4d88ff",document.getElementById("s"+a+b).classList.add("miss"),c[a][b]=3,d++,document.getElementById("p"+a+b).innerText=d):1==c[a][b]?(document.getElementById("s"+a+b).style.background="red",document.getElementById("s"+a+b).classList.add("hit"),c[a][b]=2,d++,n++,document.getElementById("p"+
a+b).innerText=d):2!=c[a][b]&&3!=c[a][b]&&4!=c[a][b]||J()};document.getElementById("compfr").addEventListener("click",function(){for(var a=0;100>a&&!H;a++)if(!H){0<n?N():J();for(var b=0,c=0,e=0,f=0,l=0,g=0;10>g;g++)for(var h=0;10>h;h++)document.getElementById("s"+g+h).classList.contains("Carrier")&&document.getElementById("s"+g+h).classList.contains("hit")&&!C&&b++,document.getElementById("s"+g+h).classList.contains("Battleship")&&document.getElementById("s"+g+h).classList.contains("hit")&&!D&&c++,
document.getElementById("s"+g+h).classList.contains("Cruiser")&&document.getElementById("s"+g+h).classList.contains("hit")&&!E&&e++,document.getElementById("s"+g+h).classList.contains("Submarine")&&document.getElementById("s"+g+h).classList.contains("hit")&&!F&&f++,document.getElementById("s"+g+h).classList.contains("Destroyer")&&document.getElementById("s"+g+h).classList.contains("hit")&&!G&&l++;5==b&&(C=!0,B(5,"Carrier"));4==c&&(D=!0,B(4,"Battleship"));3==e&&(E=!0,B(3,"Cruiser"));3==f&&(F=!0,B(3,
"Submarine"));2==l&&(G=!0,B(2,"Destroyer"));C&&D&&E&&F&&G&&(H=!0,document.getElementById("totalShots").innerText=d,document.getElementById("totalHits").innerText=17,document.getElementById("totalMisses").innerText=d-17,document.getElementById("hitPercentage").innerText=Math.round(17/d*100)+"%")}})})();
